# Парсер сайтов организаций

Консольное приложение для сканирования сайтов организаций и сбора информации о них.

## Требования

- PHP 8.1 или выше
- Расширение curl
- Расширение json

## Установка

1. Склонируйте репозиторий
2. Установите зависимости:
```bash
composer install
```

## Использование

1. Создайте файл `sites.csv` в корне проекта со следующей структурой:
```csv
id,domain
1,example.com
2,example2.com
```

2. Запустите скрипт:
```bash
php src/index.php
```

3. Результаты сканирования будут сохранены в файл `object.json`

## Структура проекта

- `src/Model/` - Модели данных
- `src/Parser/` - Парсеры контента
- `src/Http/` - HTTP клиент
- `src/Reader/` - Чтение входных данных
- `src/Scanner/` - Сканер сайтов

## Принципы SOLID

Проект разработан с соблюдением принципов SOLID:

- Single Responsibility Principle (SRP) - каждый класс имеет одну ответственность
- Open/Closed Principle (OCP) - классы открыты для расширения, но закрыты для модификации
- Liskov Substitution Principle (LSP) - подклассы могут заменять свои базовые классы
- Interface Segregation Principle (ISP) - интерфейсы разделены на более мелкие
- Dependency Inversion Principle (DIP) - зависимости от абстракций, а не от конкретных реализаций 

Вот основные компоненты:
1. Модель данных (src/Model/Site.php):
- Класс Site для хранения информации о сканируемом сайте
- Все поля соответствуют требованиям
- Методы для добавления и получения данных
2. Парсер (src/Parser/):
- Интерфейс ParserInterface
- Абстрактный класс BaseParser с общими методами
- Конкретная реализация HtmlParser
3. HTTP клиент (src/Http/HttpClient.php):
- Класс для работы с HTTP запросами
- Обработка редиректов
- Настройки curl
4. Чтение CSV (src/Reader/CsvReader.php):
- Класс для чтения файла sites.csv
- Парсинг данных в массив
5. Сканер (src/Scanner/SiteScanner.php):
- Основной класс для сканирования сайтов
- Рекурсивное сканирование с ограничением глубины
- Обработка редиректов
6. Точка входа (src/index.php):
- Инициализация компонентов
- Запуск сканирования
- Сохранение результатов
7. Документация (README.md):
- Инструкции по установке и использованию
- Описание структуры проекта
- Принципы SOLID

Для запуска проекта нужно:

1. Создать файл sites.csv с доменами для сканирования
2. Установить зависимости через composer
3. Запустить скрипт: php src/index.php

Результаты сканирования будут сохранены в файл object.json.

